---
title: TworzÄ™ wÅ‚asnÄ… grÄ™ o piratach &#35;1
author: rybeusz
date: 2023-06-15 11:00:00 +0100
categories: [Devlog, Piraci]
tags: [piraci, indiedev, gry, devlog]
comments: true
---

W koÅ„cu nadszedÅ‚ czas Å¼eby co nieco pokazaÄ‡ ğŸ˜…
Wpis zawiera trochÄ™ informacji o mojej grze, jak i krÃ³tkie wideo na ktÃ³rym widaÄ‡ obecny postÄ™p prac.

Moim celem jest stworzenie Å›wiata, gdzie gracz wciela siÄ™ w rolÄ™ Å¼eglarza, ktÃ³ry eksploruje morza, walczy z wrogimi piratami (lub takim zostaje), szuka skarbÃ³w i buduje swojÄ… flotÄ™. BÄ™dzie w nim rÃ³wnie Å‚atwo bÄ™dzie siÄ™ wzbogaciÄ‡, jak i wszystko straciÄ‡. ÅšmierÄ‡ bohatera bÄ™dzie nieodwracalna, jednak Å›wiat, po ktÃ³rym siÄ™ pÅ‚ywa, pozostanie niezmienny i dostÄ™pny dla kolejnych podrÃ³Å¼nikÃ³w stworzonych przez gracza.
JeÅ›li wiÄ™c zakopiesz skarb na jakiejÅ› wyspie, to po Å›mierci bÄ™dziesz mÃ³gÅ‚ go odkryÄ‡ kolejnym bohaterem. Wszystko to w biedackim stylu pixelart.

No a przynajmniej taki jest zamysÅ‚, aby zrobiÄ‡ coÅ› w stylu roguelike.
Do procesu tworzenia uÅ¼ywam silnika Defold, w ktÃ³rym pisze siÄ™ skrypty w jÄ™zyku LUA.
Oto wideo pokazujÄ…ce obecny postÄ™p prac:
{% include embed/youtube.html id='SVuEdhHkBsQ' %}

Lista funkcjonalnoÅ›ci na chwilÄ™ obecnÄ… jest w teorii dosyÄ‡ prosta:
- moÅ¼na pÅ‚ywaÄ‡ statkiem
- moÅ¼na przesuwaÄ‡ swobodnie mapÄ™, oddalaÄ‡ i przybliÅ¼aÄ‡
- po mapie pÅ‚ywajÄ… losowo NPC
- moÅ¼na atakowaÄ‡ przeciwnikÃ³w aÅ¼ do ich zniszczenia
- przy ataku sÄ… widoczne efekty specjalnie, dym z armat i kule wpadajÄ…ce do morza

Zaimplementowanie tego wszystkiego wiÄ…zaÅ‚o siÄ™ z pewnymi przeszkodami.
Mapa ktÃ³rÄ… widaÄ‡ na wideo nie wydaje siÄ™ duÅ¼a, jednak w rzeczywistoÅ›ci skÅ‚ada siÄ™ z wielu maÅ‚ych kwadracikÃ³w, tak zwanych "tiles". Docelowo bÄ™dzie duÅ¼o wiÄ™ksza, wiÄ™c nie ma sensu trzymaÄ‡ jej zaÅ‚adowanej przez caÅ‚y czas. Takie rozwiÄ…zanie skradÅ‚o by duÅ¼e zasoby pamiÄ™ci i gra byÅ‚aby w efekcie sÅ‚abo zoptymalizowana, a wiÄ™c wstyd na dzielni.

Å»eby temu zapobiec, podzieliÅ‚em tÄ™ mapÄ™ na tak zwane â€chunkiâ€, czyli zgrupowane kwadraciki o ktÃ³rych wczeÅ›niej wspomniaÅ‚em. Gdy gracz porusza siÄ™ po mapie, Å‚adowane sÄ… tylko te bezpoÅ›rednio wokÃ³Å‚ niego lub te ktÃ³re obecnie powinien widzieÄ‡ na ekranie komputera. Å»eby lepiej to zobrazowaÄ‡, moÅ¼esz wyobraziÄ‡ sobie tabliczkÄ™ czekolady. JeÅ›li na ekranie miaÅ‚byÅ› widzieÄ‡ pewnÄ… jej czÄ™Å›Ä‡, nie ma sensu Å‚adowaÄ‡ do pamiÄ™ci kaÅ¼dego atomu czekolady. Najlepiej je zgrupowaÄ‡ w kawaÅ‚ki ktÃ³re Å‚atwo oderwaÄ‡ i pokazywaÄ‡ tylko te, ktÃ³re gracz powinien aktualnie widzieÄ‡ na ekranie.

Samo strzelanie z armat teÅ¼ byÅ‚o pewnym wyzwaniem. Docelowo w grze bÄ™dzie kilka typÃ³w statkÃ³w, ktÃ³re mogÄ… przenosiÄ‡ rÃ³Å¼ne iloÅ›ci armat, ktÃ³re z kolei bÄ™dÄ… miaÅ‚y rozmaite parametry. OczywiÅ›cie nie muszÄ™ tego wszystkiego uwzglÄ™dniaÄ‡ na poziomie pisania prototypu, ale wypadaÅ‚o napisaÄ‡ szkielet tych funkcjonalnoÅ›ci, tak aby potem nie grzebaÄ‡ w skryptach i wszystkiego przestawiaÄ‡.

No wiÄ™c obecnie w kodzie wyglÄ…da to tak, Å¼e na statku mam zaÅ‚adowane kilka rÃ³Å¼nych armat, majÄ… one okreÅ›lone obraÅ¼enia, czas przeÅ‚adowania oraz celnoÅ›Ä‡. AtakujÄ…c inny okrÄ™t odpala siÄ™ autoatak, wylatuje tyle kul, ile armat. LosowoÅ›Ä‡ i parametry decydujÄ… czy pocisk trafi i jakie zada obraÅ¼enia. Do tego dochodzÄ… efekty wizualne. Z nimi to jednak temat na osobny wpis ğŸ˜„

Jak siÄ™ tak rozpisaÅ‚em, to myÅ›lÄ™, Å¼e moÅ¼e za duÅ¼o tego zrobiÅ‚em jak na prototyp, ale niczego nie Å¼aÅ‚ujÄ™.
Kolejnym etapem jest stworzenie szkieletu sztucznej inteligencji. Statki wroga powinny reagowaÄ‡ na atak gracza, odpowiadaÄ‡ ogniem lub uciekaÄ‡. Fajnie byÅ‚oby teÅ¼ przypisaÄ‡ im druÅ¼yny, tak aby wzajemnie siÄ™ ostrzeliwaÅ‚y. Aby to osiÄ…gnÄ…Ä‡, uÅ¼yje tak zwanego drzewa behawioralnego. MÄ™czÄ™ siÄ™ z tym tematem juÅ¼ jakiÅ› czas, teoria jest opanowana, ale w praktyce sprawia mi to pewne trudnoÅ›ci. O tym napiszÄ™ wiÄ™cej w kolejnym wpisie.

JeÅ›li masz jakieÅ› pytania, zachÄ™cam do zostawienia komentarza, moÅ¼na to robiÄ‡ anonimowo bez rejestracji.

Do usÅ‚yszenia!



